# 文件结构

## 完整 Trident 项目文件夹结构
```treeview
project root/
|-- datapack/
|   |-- pack.mcmeta → (可选)
|   `-- data/
|       `-- namespace/
|           `-- functions
|   			|-- *.tdn → Trident 函数文件
|               `-- ...
|-- resources → (可选)/
|       |-- pack.mcmeta
|       `-- assets/
|           `-- namespace
|               `-- ...
|-- internal → (可选)/
|       `-- *.nbttm → NBT 类型映射文件
|-- defpacks → (可选)/
|   `-- * → 定义包
|-- plugins → (可选)
|-- *	→ Plugins
|-- .tdnproj → 项目设置文件
`-- .tdnui → Trident UI 缓存
```

## Project Configuration File (.tdnproj)
```treeview
root
|-- target-version → Three integers forming the target version. For example, version 1.15.0 is represented by [1, 15, 0]. The last number is unimportant, and only the first two are ever used Default [1, 13, 0]
|-- language-level → The default language level for the project (1-3). Default 1.
|-- random-seed → The seed to use for the Random.PROJECT_RANDOM object. The default value will depend on the hash of this project's name.
|-- default-namespace → The namespace used for Trident-generated functions (such as objective creation, entity ticking functions, custom item events, etc.)
|-- anonymous-function-name → The template used for generating anonymous function names. Trident will replace asterisks in this function with the number of the anonymous function. Default "_anonymous*"
|-- strict-nbt → Whether NBT type mistakes should cause the compilation to fail. Default false.
|-- strict-text-components → Whether malformed text components should cause the compilation to fail. Default false.
|-- game-logger → See Game Logger (primary documentation) 
|   |-- compact → If true, game log messages will not show day number, project name nor newlines. Default false.
|   |-- timestamp-enabled → If true, game log messages will show the game time of execution, in the format: dd/hh:mm:ss.t where dd is days, hh is hours, mm is minutes, ss is seconds and t is ticks. For compact messages, the format is hh:mm:ss.t Default true.
|   |-- pos-enabled → If true, game log messages will show the block at which the command was executed. Default true.
|   `-- line-number-enabled → If true, game log messages will show the line number where the gamelog command is located. Note that this line number is for the Trident file the command is located in, not the function it's in. Default false.
|-- aliases
|   `-- <category> → A type category as specified by definition packs. The key may be 'block', 'item', 'entity'...
|       |-- <alias> → The real namespaced type the alias type will be replaced by.
|-- dependencies
|   `-- → A dependency
|       |-- path → The path* to the project root of the dependency.
|      	|-- export → Whether files generated by this dependency project should be exported. Only applies to files generated by the dependency project before the dependent project starts evaluating. Default true.
|   	|-- mode → "precompile" or "combine". If "precompile", the dependency will be evaluated in its entirety before starting to evaluate the dependent project. If "combine", the dependency's files will be evaluated alongside the dependent project's files. Default "precompile".
|-- use-definitions → Definition packs used by this project, applied from first to last, each overriding anything from previous packs. Default ["DEFAULT"]. 
|  	`-- → The name of the definition pack to use. See note 2.
|-- use-plugins → Plugins used by this project, applied from first to last, each overriding anything from previous plugins.
| 	`-- → The name of the plugin to use. This name should be the same as the folder containing the plugin data, inside <project root>/plugins/ May point to a zip or a folder. This string should exclude the extension. Plugins can also be taken from input-resources>plugin-aliases in the given .tdnbuild file. For Trident UI, this means they can reference plugins in a global plugins folder created by Trident UI (Found in <user home>/Trident/resources/plugins/) Plugins inside the project directory take priority over alias (and UI) plugins, and zips take priority over folders.
`-- using-all-plugins → Whether all used plugins should be imported in all files in this project. This will mean all plugin commands will be usable without the namespace. For backwards compatibility with older Trident projects, the default for this property is true when omitted. The default when creating a new project in Trident-UI is false.
```

1. All path strings may use `$PROJECT_DIR$`, and it will be replaced with the project root directory. Use it to target files relative to the project directory.
2. This name should be the same as the folder containing the definitions, inside `<project root>/defpacks/` May point to a zip or a folder. This string should exclude the extension. If the string is `"DEFAULT"`, it will be replaced with the definition packs given by `input-resources>default-definition-packs` in the given .tdnbuild file. For Trident UI, this is the definition pack associated with the target Minecraft version. Definition packs can also be taken from `input-resources>definition-pack-aliases` in the given .tdnbuild file. For Trident UI, this means they can reference packs in a global definition packs folder created by Trident UI (Found in `<user home>/Trident/resources/defpacks/`) Definition packs inside the project directory take priority over alias (and UI) packs, and zips take priority over folders.

## Project Build Configuration File (.tdnbuild)
```treeview
root
|-- input-resources → Contains paths to several resources needed for the project to function. Most of these are likely to change when the target Minecraft version changes. Trident UI will programmatically generate this, so .tdnbuild files inside Trident UI projects won't use this.
|   |-- default-definition-packs → The list of definition packs that will replace "DEFAULT" entries inside use-definitions in the .tdnproj file.
|  	|	`-- → A path* to the definition pack that will be used as a default. May also be a key from definition-pack-aliases.
|	|-- definition-pack-aliases
|	|	`-- <key> → A path* to the definition pack that will be associated with this key. May point to a folder or a zip. Used by use-definitions in the .tdnproj file, and can also be used by default-definition-packs.
|	|-- feature-map → A path* to the feature map used for this project. Dictates what Minecraft features are available for use in the target version, such as commands.
|	|-- plugin-aliases
|	|	`-- <key> → A path* to the plugin that will be associated with this key. May point to a folder or a zip. Used by use-plugins in the .tdnproj file.
|	`-- type-map-packs → The list of NBT type map packs that will be added by default to the project, in addition to the type maps defined by Trident and inside the project.
|		`-- → A path* to the type map pack. May be a folder or a zip. Will only read the top-level files; the type maps cannot be in subfolders
|-- output
|	|-- directories
|	|	|-- data-pack → The path* to the file where the data pack output will be created. May be a folder or a zip.
|	|	`--	resource-pack → The path* to the file where the resource pack output will be created. May be a folder or a zip.
|	|-- clean-directories
|	|	|-- data-pack → Whether to permanently delete all files in the data pack output directorY before compilation. Default false.
|	|	`-- resource-pack → Whether to permanently delete all files in the resource pack output directory before compilation. Default false.
|	|-- export-comments → Whether to export comments into output functions. Default true.
|	`-- export-gamelog → Whether gamelog commands should be exported at all. Useful as a quick way to switch on/off gamelog commands without removing them. Default true.
`-- trident-ui [ TRIDENT UI ONLY ]
	`-- actions → Lists of Trident UI Console commands that will run at different points in the compilation. For info about what commands are available, use the help command inside the Trident UI console. The exec command is particularly useful for running programs or terminal commands when the project compilation starts and/or finishes. Note that if a process which requires input is started, subsequent commands will be passed into the input stream of that process.
		|-- pre → Commands in this list will run in order before the project starts compilation. Compilation will not start until all the commands have been run
		`-- post → Commands in this list will run in order after the project finishes compiling. Note that this will run regardless of whether the compilation was successful or not.
```